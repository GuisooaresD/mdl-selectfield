{"version":3,"sources":["selectfield.js"],"names":["MaterialSelectfield","element","this","element_","setDefaults_","init","window","prototype","CssClasses_","LABEL","SELECT","SELECTED_BOX","SELECTED_BOX_VALUE","LIST_OPTION_BOX","IS_DIRTY","IS_FOCUSED","IS_DISABLED","IS_INVALID","IS_UPGRADED","IS_SELECTED","Keycodes_","ENTER","ESCAPE","SPACE","UP_ARROW","DOWN_ARROW","options_","optionsMap_","optionsArr_","closing_","keyDownTimerId_","onFocus_","event","show_","onBlur_","classList","remove","onSelected_","target","nodeName","option","getAttribute","selectedOptionValue_","textContent","selected","evt","Event","bubbles","cancelable","document","createEvent","initEvent","select_","dispatchEvent","add","selectedItem","listOptionBox_","querySelector","onclick_","toggle","update_","itemSelected","length","i","item","value","querySelectorAll","checkDisabled","checkValidity","validity","valid","disabled","disable","enable","contains","hide_","strSearch_","parentElement","scrollTop","offsetTop","boundKeyDownHandler_","onKeyDown_","bind","boundClickDocHandler_","e","parentNode","selectedOption_","addEventListener","items","currentIndex","Array","slice","call","indexOf","keyCode","preventDefault","lastSelectedItem_","ev","initMouseEvent","MouseEvent","body","click","validKeyCode_","charCode","which","String","fromCharCode","clearTimeout","setTimeout","ind","searchByStrIndex_","key","srchStr","isPresent","RegExp","indx","arr","test","keycode","removeEventListener","label_","selectedOption","createElement","tabIndex","icon","appendChild","invalid","style","visibility","boundSelectedHandler","listOptionBox","ul","itemText","toUpperCase","replace","push","li","setAttribute","boundClickHandler","mdlDowngrade_","mdlDowngrade","componentHandler","register","constructor","classAsString","cssClass","widget"],"mappings":"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","file":"mdl-selectfield.min.js","sourcesContent":["(function () {\n  'use strict';\n\n  var MaterialSelectfield = function MaterialSelectfield(element) {\n    this.element_ = element;\n    this.setDefaults_();\n    // Initialize instance.\n    this.init();\n  };\n  window['MaterialSelectfield'] = MaterialSelectfield;\n\n  MaterialSelectfield.prototype.CssClasses_ = {\n    LABEL: 'mdl-selectfield__label',\n    SELECT: 'mdl-selectfield__select',\n    SELECTED_BOX: 'mdl-selectfield__box',\n    SELECTED_BOX_VALUE: 'mdl-selectfield__box-value',\n    LIST_OPTION_BOX: 'mdl-selectfield__list-option-box',\n    IS_DIRTY: 'is-dirty',\n    IS_FOCUSED: 'is-focused',\n    IS_DISABLED: 'is-disabled',\n    IS_INVALID: 'is-invalid',\n    IS_UPGRADED: 'is-upgraded',\n    IS_SELECTED: 'is-selected'\n  };\n\n  MaterialSelectfield.prototype.Keycodes_ = {\n    ENTER: 13,\n    ESCAPE: 27,\n    SPACE: 32,\n    UP_ARROW: 38,\n    DOWN_ARROW: 40\n  };\n\n  MaterialSelectfield.prototype.setDefaults_ = function () {\n    this.options_ = [];\n    this.optionsMap_ = {};\n    this.optionsArr_ = [];\n    this.closing_ = true;\n    this.keyDownTimerId_ = null;\n  };\n\n  MaterialSelectfield.prototype.onFocus_ = function (event) {\n    this.closing_ && this.show_(event);\n  };\n\n  MaterialSelectfield.prototype.onBlur_ = function (event) {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n  };\n\n  MaterialSelectfield.prototype.onSelected_ = function (event) {\n    if(event.target && event.target.nodeName == \"LI\") {\n      var option = this.options_[event.target.getAttribute('data-value')];\n      this.selectedOptionValue_.textContent = option.textContent;\n      option.selected = true;\n\n      //fire event change\n      var evt;\n      if(typeof window.Event == \"function\") {\n        evt = new Event('change', {\n          bubbles: true\n          ,cancelable: true\n        });\n      }\n      else if(typeof document.createEvent == \"function\") {\n        evt = document.createEvent(\"HTMLEvents\");\n        evt.initEvent(\"change\", true, true);\n      }\n      evt && this.select_.dispatchEvent(evt);\n\n      if(option.textContent !== \"\") {\n        this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n        var selectedItem = this.listOptionBox_.querySelector('.' + this.CssClasses_.IS_SELECTED);\n        selectedItem && selectedItem.classList.remove(this.CssClasses_.IS_SELECTED);\n        event.target.classList.add(this.CssClasses_.IS_SELECTED);\n      }\n      else {\n        this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n        var selectedItem = this.listOptionBox_.querySelector('.' + this.CssClasses_.IS_SELECTED);\n        selectedItem && selectedItem.classList.remove(this.CssClasses_.IS_SELECTED);\n      }\n    }\n  };\n\n  MaterialSelectfield.prototype.onclick_ = function (event) {\n    this.toggle(event);\n  };\n\n  MaterialSelectfield.prototype.update_ = function () {\n    var itemSelected;\n\n    if(this.options_ && this.options_.length > 0) {\n      for (var i = 0; i < this.options_.length; i++) {\n        var item = this.options_[i];\n        if (item.selected && item.value !== \"\") {\n          var itemSelected = true;\n          this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n          this.listOptionBox_.querySelector('.' + this.CssClasses_.IS_SELECTED).classList.remove(this.CssClasses_.IS_SELECTED);\n          this.listOptionBox_.querySelectorAll('LI')[i].classList.add(this.CssClasses_.IS_SELECTED);\n        }\n      }\n    }\n\n    if(!itemSelected) {\n      this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n    }\n\n    this.checkDisabled();\n    this.checkValidity();\n  };\n\n  MaterialSelectfield.prototype.checkValidity = function() {\n    if (this.select_.validity) {\n      if (this.select_.validity.valid) {\n        this.element_.classList.remove(this.CssClasses_.IS_INVALID);\n      } else {\n        this.element_.classList.add(this.CssClasses_.IS_INVALID);\n      }\n    }\n  };\n  MaterialSelectfield.prototype['checkValidity'] =\n    MaterialSelectfield.prototype.checkValidity;\n\n  MaterialSelectfield.prototype.checkDisabled = function() {\n    if (this.select_.disabled) {\n      this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n    } else {\n      this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n    }\n  };\n  MaterialSelectfield.prototype['checkDisabled'] =\n    MaterialSelectfield.prototype.checkDisabled;\n\n  /**\n   * Disable select field.\n   *\n   * @public\n   */\n  MaterialSelectfield.prototype.disable = function() {\n    this.select_.disabled = true;\n    this.update_();\n  };\n  MaterialSelectfield.prototype['disable'] = MaterialSelectfield.prototype.disable;\n\n  /**\n   * Enable select field.\n   *\n   * @public\n   */\n  MaterialSelectfield.prototype.enable = function() {\n    this.select_.disabled = false;\n    this.update_();\n  };\n  MaterialSelectfield.prototype['enable'] = MaterialSelectfield.prototype.enable;\n\n  MaterialSelectfield.prototype.toggle = function (event) {\n    if (this.element_.classList.contains(this.CssClasses_.IS_FOCUSED)) {\n      this.hide_();\n    } else {\n      this.show_(event);\n    }\n  };\n\n  MaterialSelectfield.prototype.show_ = function(event) {\n    this.checkDisabled();\n    if(this.element_.classList.contains(this.CssClasses_.IS_DISABLED)) return;\n\n    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n    this.closing_ = false;\n    this.strSearch_ = \"\";\n\n    var selectedItem = this.listOptionBox_.querySelector('.' + this.CssClasses_.IS_SELECTED);\n    if(selectedItem) selectedItem.parentElement.parentElement.scrollTop = selectedItem.offsetTop;\n\n    this.boundKeyDownHandler_ = this.onKeyDown_.bind(this);\n    this.boundClickDocHandler_ = function(e) {\n      if (e !== event && !this.closing_ && !(e.target.parentNode === this.element_ || e.target.parentNode === this.selectedOption_) ) {\n        this.hide_();\n      }\n    }.bind(this);\n\n    document.addEventListener('keydown', this.boundKeyDownHandler_);\n    document.addEventListener('click', this.boundClickDocHandler_);\n  };\n\n  MaterialSelectfield.prototype.onKeyDown_ = function(evt) {\n    var items = this.listOptionBox_.querySelectorAll('li' +\n      ':not([disabled])');\n\n    if (items && items.length > 0 && !this.closing_) {\n      var currentIndex = Array.prototype.slice.call(items).indexOf(this.listOptionBox_.querySelectorAll('.' + this.CssClasses_.IS_SELECTED)[0]);\n      var selectedItem;\n\n      if(evt.keyCode === this.Keycodes_.UP_ARROW || evt.keyCode === this.Keycodes_.DOWN_ARROW) {\n        if(currentIndex != -1) {\n          items[currentIndex].classList.remove(this.CssClasses_.IS_SELECTED);\n        }\n\n        if (evt.keyCode === this.Keycodes_.UP_ARROW) {\n          evt.preventDefault();\n          if (currentIndex > 0) {\n            selectedItem = items[currentIndex - 1];\n          } else {\n            selectedItem = items[items.length - 1];\n          }\n        } else {\n          evt.preventDefault();\n          if (items.length > currentIndex + 1) {\n            selectedItem = items[currentIndex + 1];\n          } else {\n            selectedItem = items[0];\n          }\n        }\n\n        if(selectedItem) {\n          selectedItem.classList.add(this.CssClasses_.IS_SELECTED);\n          this.listOptionBox_.scrollTop = selectedItem.offsetTop;\n          this.lastSelectedItem_ = selectedItem;\n        }\n      }\n      else if ((evt.keyCode === this.Keycodes_.SPACE || evt.keyCode === this.Keycodes_.ENTER) && this.lastSelectedItem_) {\n        evt.preventDefault();\n        // Send mousedown and mouseup to trigger ripple.\n        var ev;\n\n        if(document.createEvent) {\n          ev = document.createEvent(\"MouseEvent\");\n          ev.initMouseEvent(\"click\",true,true,window,0,0,0,0,0,false,false,false,false,0,null);\n        }\n        else {\n          ev = new MouseEvent(\"mousedown\");\n        }\n        this.lastSelectedItem_.dispatchEvent(ev);\n        if(!document.createEvent) {\n          ev = new MouseEvent('mouseup');\n          this.lastSelectedItem_.dispatchEvent(ev);\n        }\n        // Send click.\n        //this.lastSelectedItem_.click();\n      }\n      else if (evt.keyCode === this.Keycodes_.ESCAPE) {\n        evt.preventDefault();\n        var ev;\n\n        if(document.createEvent) {\n          ev = document.createEvent(\"MouseEvent\");\n          ev.initMouseEvent(\"click\",true,true,window,0,0,0,0,0,false,false,false,false,0,null);\n        }\n        else {\n          ev = new MouseEvent(\"mousedown\");\n        }\n        document.body.dispatchEvent(ev);\n        if(!document.createEvent) {\n          ev = new MouseEvent('mouseup');\n          document.body.dispatchEvent(ev);\n        }\n        document.body.click();\n      }\n      else if (this.validKeyCode_(evt.keyCode)) {\n        var charCode = evt.which || evt.keyCode;\n\n        this.strSearch_ += String.fromCharCode(charCode);\n\n        if(this.keyDownTimerId_) clearTimeout(this.keyDownTimerId_);\n\n        this.keyDownTimerId_ = setTimeout((function() {\n          this.keyDownTimerId_ = null;\n          this.strSearch_ = \"\";\n        }).bind(this), 300);\n\n        var ind = this.searchByStrIndex_(0);\n\n        if (ind > -1) {\n          if(currentIndex != -1) {\n            items[currentIndex].classList.remove(this.CssClasses_.IS_SELECTED);\n          }\n          selectedItem = items[ind];\n          selectedItem.classList.add(this.CssClasses_.IS_SELECTED);\n          this.listOptionBox_.scrollTop = selectedItem.offsetTop;\n          this.lastSelectedItem_ = selectedItem;\n        }\n      }\n    }\n  };\n\n  MaterialSelectfield.prototype.searchByStrIndex_ = function(key) {\n    var srchStr = this.strSearch_;\n    var isPresent = new RegExp('^' + srchStr +'.');\n    var indx = -1;\n    var arr = this.optionsArr_;\n\n    for(var i = 0; i < arr.length; i++) {\n      if(isPresent.test(arr[i])) {\n        indx = i;\n        break;\n      }\n    }\n\n    return indx != -1 ? this.optionsMap_[this.optionsArr_[indx]] : -1;\n  };\n\n  MaterialSelectfield.prototype.validKeyCode_ = function(keycode) {\n    return (keycode > 47 && keycode < 58)   || // number keys\n      keycode == 32 || keycode == 13   || // spacebar & return key(s) (if you want to allow carriage returns)\n      (keycode > 64 && keycode < 91)   || // letter keys\n      (keycode > 95 && keycode < 112)  || // numpad keys\n      (keycode > 185 && keycode < 193) || // ;=,-./` (in order)\n      (keycode > 218 && keycode < 223);   // [\\]' (in order)\n  };\n\n  MaterialSelectfield.prototype.hide_ = function() {\n    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n    this.closing_ = true;\n    this.strSearch_ = \"\";\n    this.boundClickDocHandler_ && document.removeEventListener('click', this.boundClickDocHandler_);\n    this.boundKeyDownHandler_ && document.removeEventListener('keydown', this.boundKeyDownHandler_);\n    this.update_();\n  };\n\n  MaterialSelectfield.prototype.init = function () {\n    if (this.element_) {\n      this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);\n      this.select_ = this.element_.querySelector('.' + this.CssClasses_.SELECT);\n      var selectedOption = document.createElement('div');\n      selectedOption.classList.add(this.CssClasses_.SELECTED_BOX);\n      selectedOption.tabIndex = 1;\n      this.selectedOption_ = selectedOption;\n      var icon = document.createElement('i');\n      icon.classList.add('material-icons');\n      icon.tabIndex = -1;\n      icon.textContent = 'arrow_drop_down';\n      selectedOption.appendChild(icon);\n      var value = document.createElement('span');\n      value.classList.add(this.CssClasses_.SELECTED_BOX_VALUE);\n      value.tabIndex = 0;\n      selectedOption.appendChild(value);\n      this.selectedOptionValue_ = value;\n      this.element_.appendChild(this.selectedOption_);\n\n      var invalid = this.element_.classList.contains(this.CssClasses_.IS_INVALID);\n\n      if (this.select_) {\n        this.options_ = this.select_.querySelectorAll('option');\n        this.select_.style.visibility = \"hidden\";\n\n        if (this.options_.length) {\n          this.boundSelectedHandler = this.onSelected_.bind(this);\n          var listOptionBox = document.createElement('div');\n          listOptionBox.classList.add(this.CssClasses_.LIST_OPTION_BOX);\n          listOptionBox.tabIndex = '-1';\n          var ul = document.createElement('ul');\n          ul.tabIndex = '-1';\n          for (var i = 0; i < this.options_.length; i++) {\n            var item = this.options_[i]\n              ,itemText = (item.textContent || '').toUpperCase().replace(/( )|(\\n)/g, \"\");\n            this.optionsMap_[itemText] = i;\n            this.optionsArr_.push(itemText);\n            var li = document.createElement('li');\n            li.textContent = item.textContent;\n            li.setAttribute('data-value', i);\n            li.tabIndex = '-1';\n            li.addEventListener('click', this.boundSelectedHandler);\n            ul.appendChild(li);\n            if(item.selected && item.textContent !== \"\") {\n              this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n              this.selectedOptionValue_.textContent = item.textContent;\n              li.classList.add(this.CssClasses_.IS_SELECTED);\n            }\n          }\n\n          listOptionBox.appendChild(ul);\n          this.element_.appendChild(listOptionBox);\n          this.listOptionBox_ = listOptionBox;\n        }\n      }\n\n      this.boundClickHandler = this.onclick_.bind(this);\n      this.element_.addEventListener('click', this.boundClickHandler);\n      if (invalid) {\n        this.element_.classList.add(this.CssClasses_.IS_INVALID);\n      }\n      this.checkDisabled();\n    }\n  };\n\n  MaterialSelectfield.prototype.mdlDowngrade_ = function() {\n    this.element_.removeEventListener('click', this.boundClickHandler);\n    if (this.boundSelectedHandler && this.options_.length) {\n      var items = this.listOptionBox_.querySelectorAll(\"li\");\n\n      for (var i = 0; i < items.length; i++) {\n        items[i].removeEventListener('click', this.boundSelectedHandler);\n      }\n    }\n  };\n\n  /**\n   * Public alias for the downgrade method.\n   *\n   * @public\n   */\n  MaterialSelectfield.prototype.mdlDowngrade =\n    MaterialSelectfield.prototype.mdlDowngrade_;\n\n  MaterialSelectfield.prototype['mdlDowngrade'] =\n    MaterialSelectfield.prototype.mdlDowngrade;\n\n  componentHandler.register({\n    constructor: MaterialSelectfield,\n    classAsString: 'MaterialSelectfield',\n    cssClass: 'mdl-js-selectfield',\n    widget: true\n  });\n})();"],"sourceRoot":"/source/"}